# Procedure Booking System

–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å –¥–≤—É–º—è Telegram –±–æ—Ç–∞–º–∏ (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –≤—Ä–∞—á–µ–π) –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: FastAPI + SQLAlchemy 2.0 + Alembic
- **Bots**: aiogram 3.x
- **Database**: PostgreSQL 15
- **Frontend**: Next.js 14 + TailwindCSS
- **Containerization**: Docker Compose

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
procedure/
‚îú‚îÄ‚îÄ docker-compose.yml    # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ bots/             # Telegram –±–æ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ alembic/          # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ frontend/             # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Backend
cd backend
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env, –¥–æ–±–∞–≤–∏–≤ —Ç–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤

# Frontend
cd ../frontend
cp .env.example .env.local
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ Telegram –±–æ—Ç–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ 2 –±–æ—Ç–∞: –æ–¥–∏–Ω –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤, –æ–¥–∏–Ω –¥–ª—è –≤—Ä–∞—á–µ–π
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ `backend/.env`:
   - `CLIENT_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
   - `DOCTOR_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è –≤—Ä–∞—á–µ–π

### 3. –ó–∞–ø—É—Å–∫ Backend (Docker)

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec api alembic upgrade head

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f
```

Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: http://localhost:8000
API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/docs

### 4. –ó–∞–ø—É—Å–∫ Frontend

```bash
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
yarn install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
yarn dev
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: http://localhost:3000

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –≤—Ä–∞—á–∞/–∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/register
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–≤—ã–±–µ—Ä–∏—Ç–µ "—Å–æ–ª–æ" –∏–ª–∏ "–∫–ª–∏–Ω–∏–∫–∞")
3. –î–æ–±–∞–≤—å—Ç–µ —É—Å–ª—É–≥–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–æ—Å–ª—É–≥–∏"
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–±–æ—á–∏–π –≥—Ä–∞—Ñ–∏–∫ –≤ —Ä–∞–∑–¥–µ–ª–µ "–†–æ–∑–∫–ª–∞–¥"
5. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç –¥–ª—è –≤—Ä–∞—á–µ–π –∏ –ø—Ä–∏–≤—è–∂–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç (–≤–≤–µ–¥–∏—Ç–µ email)

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ Telegram
2. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫
3. –ü—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é (–∏–º—è, —Ñ–∞–º–∏–ª–∏—è, —Ç–µ–ª–µ—Ñ–æ–Ω)
4. –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã!

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### Telegram –±–æ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (üá∫üá¶/üá∑üá∫/üá¨üáß)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º
- –ü—Ä–æ—Å–º–æ—Ç—Ä —É—Å–ª—É–≥ –∏ —Ü–µ–Ω
- –í—ã–±–æ—Ä –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–ø–∏—Å–µ–π

### Telegram –±–æ—Ç –¥–ª—è –≤—Ä–∞—á–µ–π
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å—è—Ö
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∑–∞–ø–∏—Å–µ–π

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏ (CRUD)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–ø–∏—Å–µ–π
- –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

## API Endpoints

- `POST /api/v1/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/v1/auth/login` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /api/v1/services` - –°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥
- `POST /api/v1/services` - –°–æ–∑–¥–∞—Ç—å —É—Å–ª—É–≥—É
- `GET /api/v1/schedule` - –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `POST /api/v1/schedule/bulk` - –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `GET /api/v1/appointments` - –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π
- `GET /api/v1/clients` - –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

## Docker —Å–µ—Ä–≤–∏—Å—ã

- **db** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Ä—Ç 5432)
- **api** - FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 8000)
- **client-bot** - Telegram –±–æ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- **doctor-bot** - Telegram –±–æ—Ç –¥–ª—è –≤—Ä–∞—á–µ–π

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# Backend (–∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞)
docker-compose down

# Frontend
Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å yarn dev
```
